---
title: "Typoï¼ˆã‚¹ãƒšãƒ«ãƒŸã‚¹ï¼‰ã‚’è‡ªå‹•ã§æ¤œçŸ¥ã™ã‚‹"
emoji: "ğŸ”¡"
type: "tech"
topics:
  - "git"
  - "github"
  - "vscode"
  - "githubactions"
  - "typo"
published: true
published_at: "2023-06-21 23:31"
---

è»¢è·ã™ã‚‹ãŸã³ã« Spell Check ã®ä»•çµ„ã¿ã‚’å°å…¥ã—ã¦ã„ã¾ã™ã€‚
ä»Šå›ã¯æœ€æ–°ç‰ˆã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

ã‚¨ãƒ‡ã‚£ã‚¿ã®æ‹¡å¼µæ©Ÿèƒ½ã«ã‚ˆã‚‹é–‹ç™ºæ™‚ã®ãƒã‚§ãƒƒã‚¯ã€Git Hooks ã«ã‚ˆã‚‹ Commit æ™‚ã®ãƒã‚§ãƒƒã‚¯ã€GitHub Actions ã«ã‚ˆã‚‹ Push æ™‚ï¼ˆPR ä¸Šï¼‰ã®ãƒã‚§ãƒƒã‚¯ã¨æŠœã‹ã‚Šãªã„ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

## éå»ã®è¨˜äº‹

### ç¬¬ 1 å¼¾

https://qiita.com/naro143/items/009af8897643fe990db8

### ç¬¬ 2 å¼¾

https://tech.youtrust.co.jp/entry/fix-typo

## å°å…¥æ–¹æ³•

### é–‹ç™ºæ™‚ã®ãƒã‚§ãƒƒã‚¯

Visual Studio Code ã®æ‹¡å¼µæ©Ÿèƒ½ã€ŒCode Spell Checkerã€ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦å®Œäº†ã§ã™ã€‚

https://marketplace.visualstudio.com/items?itemName=streetsidesoftware.code-spell-checker

#### ãƒ‡ãƒ¢

![](https://storage.googleapis.com/zenn-user-upload/5bbafa52a6e2-20230621.png)

### Commit æ™‚ã®ãƒã‚§ãƒƒã‚¯

pre-commit ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚
https://pre-commit.com/

pre-commit ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

```shell
brew install pre-commit
```

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆã«`.pre-commit-config.yaml`ã‚’é…ç½®ã—ã¾ã™ã€‚

```yaml:.pre-commit-config.yaml
repos:
  - repo: https://github.com/streetsidesoftware/cspell-cli
    rev: v6.31.0
    hooks:
      - id: cspell
```

git hook script ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦å®Œäº†ã§ã™ã€‚

```shell
pre-commit install
```

#### ãƒ‡ãƒ¢

![](https://storage.googleapis.com/zenn-user-upload/ffd5da35ed64-20230621.png)

### Push æ™‚ã®ãƒã‚§ãƒƒã‚¯

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®`.github/workflows`ã«`spell-check.yaml`ã‚’é…ç½®ã—ã¦å®Œäº†ã§ã™ã€‚
CI ãŒ Fail ã«ãªã‚‹ãŸã‚ã€Merge ã‚’é˜²ãã“ã¨ã‚‚ã§ãã¾ã™ã€‚

```yaml:spell-check.yaml
name: Spell Check
on:
  push:

jobs:
  spell-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: streetsidesoftware/cspell-action@v2
```

#### ãƒ‡ãƒ¢

![](https://storage.googleapis.com/zenn-user-upload/13cd792a9f54-20230621.png)

## è¨­å®š

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆã«`cspell.config.yaml`ã‚’é…ç½®ã—ã¾ã™ã€‚

```yaml:cspell.config.yaml
$schema: https://raw.githubusercontent.com/streetsidesoftware/cspell/main/cspell.schema.json
version: "0.2"
language: en
dictionaryDefinitions:
  - name: project-words
    path: ./project-words.txt
    addWords: true
dictionaries:
  - bash
  - filetypes
  - markdown
  - softwareTerms
  - networking-terms
  - project-words
ignorePaths:
  - .gitignore
  - .vscode
  - log
  - project-words.txt
```

dictionaries ã®ä¸€è¦§ã¯ã“ã“ã‹ã‚‰è¦‹ã‚Œã¾ã™ã€‚
https://cspell.org/docs/dictionaries/

### White List

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆã«`project-words.txt`ã‚’é…ç½®ã—ã¾ã™ã€‚
è¨˜è¼‰ã—ãŸå˜èªã¯æ¤œçŸ¥ã•ã‚Œãªããªã‚Šã¾ã™ã€‚
ã‚³ãƒ¡ãƒ³ãƒˆã‚‚è¨˜è¼‰ã§ãã¾ã™ã€‚

```txt:project-words.txt
hoge # TODO:
fuga # FIXME:
```

## ãƒã‚¤ãƒ³ãƒˆ

ã‚¨ãƒ‡ã‚£ã‚¿ã®æ‹¡å¼µæ©Ÿèƒ½ã«ã‚ˆã‚‹é–‹ç™ºæ™‚ã®ãƒã‚§ãƒƒã‚¯ã€Git Hooks ã«ã‚ˆã‚‹ Commit æ™‚ã®ãƒã‚§ãƒƒã‚¯ã€GitHub Actions ã«ã‚ˆã‚‹ Push æ™‚ï¼ˆPR ä¸Šï¼‰ã®ãƒã‚§ãƒƒã‚¯ã®å…¨ã¦ã‚’ CSpell ã§çµ±ä¸€ã—ã¦ã„ã‚‹ã®ã§ã€å…±é€šã®è¨­å®šãŒåˆ©ç”¨ã§ãã€åŒã˜æ¤œçŸ¥å†…å®¹ã¨ãªã‚Šã¾ã™ã€‚

ã¾ãŸã€å°å…¥ãŒæ¥½ã«ãªã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
ï¼ˆä»Šã¾ã§ã¯å‡ºåŠ›ã®ä¸å¯§ã•ã‹ã‚‰ Rust è£½ã® typos ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã—ãŸãŒã€Rust ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¿…è¦ãªã©å°å…¥ã«ä¸€æ‰‹é–“ãŒå¿…è¦ã§ã—ãŸã€‚ï¼‰

## ãŠã‚ã‚Šã«

æ­£ã—ã„è‹±èªã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã¯ã€é«˜ã„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢å“è³ªã®ç¬¬ä¸€æ­©ã ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚
ä»•çµ„ã¿ã§è§£æ±ºã§ãã‚‹ã®ã§ã€ãœã²å°å…¥ã—ã¦ã¿ã¦ãã ã•ã„ ğŸ™Œ
